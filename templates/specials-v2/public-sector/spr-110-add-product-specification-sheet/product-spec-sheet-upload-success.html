<!DOCTYPE html>
{% extends "base.html" %}
{% block title %}
Submit a new product | Portal | NHSBSA
{% endblock %}
{% block content %}
<div class="nhsuk-back-link nhsuk-u-margin-bottom-6">
  <a class="nhsuk-back-link__link" href="product-spec-sheet-upload">
    <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" height="24" width="24">
      <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
    </svg>
    Go back to upload the Product Specification Sheet</a>
</div>

<div class="nhsuk-form-group" id="file-success">
  <fieldset class="nhsuk-fieldset" aria-describedby="contact-hint">
    <legend class="nhsuk-fieldset__legend nhsuk-label--xl">
        <span class="nhsuk-caption-l">
            Submit a new product
          <span class="nhsuk-u-visually-hidden"> - </span>
        </span>
      <h1 class="nhsuk-fieldset__heading">
        Product Specification Sheet upload
      </h1>
    </legend>

<!--    One upload? More than one? limit on file size?-->

    <p>
      A file upload can be in Word or PDF formats only. The largest size is 10 MB.</p>

    <table role="table" class="nhsuk-table-responsive" id="hide-table">
      <caption class="nhsuk-table__caption">Summary of file uploads</caption>
      <thead role="rowgroup" class="nhsuk-table__head">
      <tr role="row">
        <th role="columnheader" class="" scope="col">
         File name
        </th>
        <th role="columnheader" class="" scope="col">
          File size
        </th>
        <th role="columnheader" class="" scope="col">
          Action
        </th>
      </tr>
      </thead>
      <tbody class="nhsuk-table__body">
      <tr role="row" class="nhsuk-table__row" id="hide-first-file">
        <td role="cell" class="nhsuk-table__cell" id="file-upload-name" style="word-break:break-all">
          Example file name
        </td>
        <td role="cell" class="nhsuk-table__cell">
          8.25 MB
        </td>
        <td role="cell" class="nhsuk-table__cell">
          <a href="#">Remove</a>
        </td>
      </tr>
    
    
      <!--tr role="row" class="nhsuk-table__row" id="hide-second-file">
      <td role="cell" class="nhsuk-table__cell" id="file-upload-name-2">
         <span class="nhsuk-table-responsive__heading">File name </span>
       </td>
       <td role="cell" class="nhsuk-table__cell">
         <span class="nhsuk-table-responsive__heading">File size </span>3.77 MB
       </td>
       <td role="cell" class="nhsuk-table__cell">
         <span class="nhsuk-table-responsive__heading">Action</span><a id="remove-file-2" href="#">Remove</a>
        </td>
      </tr-->
    
      
    </tbody>
    </table>

    <p class="nhsuk-u-margin-bottom-1" id="add-link" style="display: none">No files uploaded. Add a file <a class="nhsuk-link" id="go-to-file-1"  href="product-file-upload">here</a></p>
  </fieldset>
</div>

<a class="nhsuk-button nhsuk-u-margin-top-3" onclick="uploadCoAFile()"
   id="continue-button"
   href="add-recommended-storage-condition"
   type="submit">
  Continue
</a>


<script>

  let uploadFile = document.getElementById("file-upload-1");
  let getUploadFile = localStorage.getItem("special-product-upload-CoA");

  if (getUploadFile) {
    var fileUploadSplit = getUploadFile.split("\\");
    var fileUploadFileName = fileUploadSplit[fileUploadSplit.length - 1];
    var fileName = document.getElementById("file-upload-name");
    fileName.innerHTML =
            '<span class="nhsuk-table-responsive__heading">File name </span>'
            +
            '<span class="word-break-file">' + fileUploadFileName + '</span>';
  }

  function uploadCoAFile() {
    let summaryPage = localStorage.getItem("summary-page");
    if (getUploadFile && summaryPage) {
      document.getElementById("continue-button").href = "product-summary";
    }
  }
</script>
{% endblock %}


